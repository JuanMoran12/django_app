{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario - Sistema de Auditoría</title>
    <link rel="stylesheet" href="{% static 'home.css' %}">
    <link rel="stylesheet" href="{% static 'cues.css' %}">
    <style>
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
            flex: 1;
            min-width: 200px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .form-select, .form-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.3s ease;
            background-color: #fff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .form-select:focus, .form-input:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%234a5568' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 12px;
            padding-right: 36px;
        }
        
        .form-input[type="date"] {
            padding: 9px 12px;
        }
        
        .seccion {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="contenedor">
        <div class="barraup">
            <div class="logo-container">
                <img src="{% static 'images/logo UTS cuadrado.png' %}" alt="Logo">
                <h1 class="encabezado">Cuestionario UTS</h1>
            </div>
            <div class="user-info">
                <span class="username">{{ user.username }}</span>
                <a href="/cerrar/" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    Cerrar Sesión
                </a>
            </div>
        </div>
        
        <div class="cont_principal">
            <div class="barra_lateral">
                <div class="sidebar-section">
                    <h4 class="sidebar-title">Menú Principal</h4>
                    <a href="/home/" class="boton">
                        <i class="fas fa-home"></i>
                        <span>Inicio</span>
                    </a>
                    <a href="/questioner/" class="boton active">
                        <i class="fas fa-list"></i>
                        <span>Cuestionario</span>
                    </a>
                    <a href="/checklist/" class="boton">
                        <i class="fas fa-clipboard-check"></i>
                        <span>Checklist</span>
                    </a>
                    <a href="/informes/" class="boton">
                        <i class="fas fa-chart-bar"></i>
                        <span>Resultados</span>
                    </a>
                </div>
                
                <div class="sidebar-section">
                    <h4 class="sidebar-title">Carreras</h4>
                    {% for clave, valor in carreras.items %}
                    <a href="{{ valor }}"
                       class="boton {% if carrera.id == carrera_actual.id %}active{% endif %}">
                        <i class="fas fa-graduation-cap"></i>
                        <span>{{ clave }}</span>
                    </a>
                    {% endfor %}
                </div>
            </div>
            
            <div class="contenido-principal">
                <div class="bienvenida">
                    <h1>Cuestionario {{ carrera_actual }} </h1>
                    <p class="subtitulo">Por favor, responda las siguientes preguntas sobre el equipo a evaluar</p>
                </div>
                
                <div class="preguntas-container">
                    <form method="POST" class="formulario-cuestionario">
                        {% csrf_token %}
                        <div class="seccion">
                            <h2 class="titulo-seccion">
                                <i class="fas fa-question-circle"></i>
                                Preguntas de Evaluación
                            </h2>
                            <div class="preguntas">
                                {% for pregunta in cues %}
                                <div class="pregunta-item">
                                    <p class="texto-pregunta">{{ forloop.counter }}. {{ pregunta.pregunta }}</p>
                                    <div class="opciones-respuesta">
                                        <label class="opcion">
                                            <input type="radio" name="respuesta_{{ pregunta.id }}" value="1" required>
                                            <span class="opcion-texto">Sí</span>
                                            <span class="checkmark"></span>
                                        </label>
                                        <label class="opcion">
                                            <input type="radio" name="respuesta_{{ pregunta.id }}" value="0" required>
                                            <span class="opcion-texto">No</span>
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>
                                </div>
                                {% if not forloop.last %}
                                <hr class="divisor-pregunta">
                                {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="computadoras_evaluadas" class="form-label">Computadoras evaluadas:</label>
                                <input type="number" name="computadoras_evaluadas" id="computadoras_evaluadas" 
                                       class="form-input" min="1" value="1" required>
                            </div>
                        </div>
                        <div class="acciones-formulario">
                            <button type="submit" class="btn-enviar">
                                <i class="fas fa-paper-plane"></i>
                                Enviar Cuestionario
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>


